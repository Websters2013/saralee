!function(){$(function(){$.each($(".contact-us"),function(){new t($(this))}),$.each($(".dropdown"),function(){new e($(this))}),$.each($(".site__header"),function(){new n($(this))}),$.each($(".list-info"),function(){new i($(this))}),$.each($(".faq"),function(){new o($(this))}),$.each($(".mobile-menu"),function(){new s($(this))}),$.each($(".preloader"),function(){new r($(this))}),$.each($(".product"),function(){new d($(this))}),$.each($(".products"),function(){new l($(this))}),$.each($(".tab"),function(){new h($(this))}),$.each($(".history"),function(){new f($(this))}),$.each($(".hero-slider"),function(){new u($(this))}),$.each($(".share"),function(){new v($(this))}),$.each($(".menu"),function(){new a($(this))}),$.each($(".search"),function(){new c($(this))}),$.each($(".rate"),function(){new p($(this))})});var t=function(t){var e=this,n=t,i=t.find("input[type=checkbox]"),o=t.find("input[type=radio]"),s=n.find(".ginput_container_fileupload"),a=s.parent().find(".gfield_description").text(),c=n.find("input[type=file]"),r=function(){c.on({change:function(t){this.files&&this.files[0]&&(a=this.files[0].name,s.addClass("changing"),s.attr("data-text",a))}})},l=function(){n[0].obj=e,r(),i.each(function(){$(this).parent().addClass("nice-checkbox")}),o.each(function(){$(this).parent().addClass("nice-radio")}),s.attr("data-text",a)};l()},e=function(t){var e=this,n=t,i=n.find(".dropdown__title"),o=n.find(".dropdown__content"),s=function(){i.on({click:function(){var t=$(this);t.hasClass("active")||(i.removeClass("active"),t.addClass("active"),o.slideUp(),$(this).next().slideDown())}})},a=function(){n[0].obj=e,s()};e.setCanUseScroll=function(t){_canUseSmoothScroll=t},a()},n=function(t){var e,n=this,i=t,o=!0,s=$(".hero"),a=$(window),c=function(){a.on({DOMMouseScroll:function(t){var e=t.originalEvent.detail;if(e){var n=e>0?1:-1;r(n)}},mousewheel:function(t){var e=t.originalEvent.wheelDelta;if(e){var n=e>0?-1:1;r(n)}},touchmove:function(t){var n=t.originalEvent.touches[0].clientY;n>e?r(-1):n<e&&r(1),e=n},keydown:function(t){switch(t.which){case 32:r(1);break;case 33:r(-1);break;case 34:r(1);break;case 35:r(1);break;case 36:r(-1);break;case 38:r(-1);break;case 40:r(1);break;default:return}},scroll:function(){var t=340;s.length>0&&(t=s.outerHeight()),a.scrollTop()>t?i.addClass("fixed"):i.removeClass("fixed")}})},r=function(t){t>0&&!i.hasClass("hidden")&&a.scrollTop()>i.outerHeight()&&o?d():t<0&&i.hasClass("hidden")&&o&&l()},l=function(){i.removeClass("hidden")},d=function(){i.addClass("hidden")},f=function(){i[0].obj=n,c()};n.setCanUseScroll=function(t){o=t},f()},i=function(t){var e=t,n=e.find(".list-info__menu-title"),i=e.find("nav"),o=i.find("a"),s=e.find(".list-info__content"),a=$("body").data("action"),c=new XMLHttpRequest,r=function(){l()},l=function(){window.addEventListener("popstate",function(t){}),n.on("click",function(){i.hasClass("open")?u():f()}),o.on("click",function(t){t.preventDefault();var e=$(this),n=e.data("post");e.hasClass("active")||(o.attr("class",""),e.addClass("active"),d(n),u())})},d=function(t){c.abort(),c=$.ajax({url:a,data:{action:"post",data:t},dataType:"html",timeout:2e4,type:"get",success:function(t){h(t),history.pushState({html:t},null,null)},error:function(t){"abort"!=t.statusText&&alert("Error!")}})},f=function(){var t=$(window).scrollTop(),e=n.outerHeight(),o=$(window).height()-n.offset().top-e+t;i.addClass("open"),i.css({height:o+"px",top:e+"px"}),$("html").css({overflow:"hidden"}),$(".site__header")[0].obj.setCanUseScroll(!0)},u=function(){i.removeClass("open"),i.attr("style",""),$("html").attr("style",""),$(".site__header")[0].obj.setCanUseScroll(!1)},h=function(t){s.html(""),s.html(t)};r()},o=function(t){var e=t,n=e.find(".faq__menu-title"),i=e.find("nav"),o=i.find("a"),s=e.find(".faq__content"),a=$("body").data("action"),c=$("body").data("type"),r=null,l=new XMLHttpRequest,d=function(){f()},f=function(){console.log("1"),window.addEventListener("popstate",function(t){var e=r;null==t.state?console.log(t.state):(r="php/"+t.state.foo+".php",e!=r&&console.log(t.state))},!1),n.on("click",function(){i.hasClass("open")?p():h()}),o.on("click",function(t){t.preventDefault();var e=$(this),n=e.data("post");if(!e.hasClass("active")){o.removeClass("active"),e.addClass("active"),r=e.attr("href");var i=/[^\/]*$/.exec(r)[0],s=i.split(".");i=s[0],history.pushState({foo:i},null,i),u(n),p()}})},u=function(t){l.abort(),l=$.ajax({url:a,data:{action:"post",data:t,flag:c},dataType:"html",timeout:2e4,type:"get",success:function(t){v(t)},error:function(t){"abort"!=t.statusText&&alert("Error!")}})},h=function(){var t=$(window).scrollTop(),e=n.outerHeight(),o=$(window).height()-n.offset().top-e+t;i.addClass("open"),i.css({height:o+"px",top:e+"px"}),$("html").css({overflow:"hidden"}),$(".site__header")[0].obj.setCanUseScroll(!0)},p=function(){i.removeClass("open"),i.attr("style",""),$("html").attr("style",""),$(".site__header")[0].obj.setCanUseScroll(!1)},v=function(t){s.html(""),s.html(t)};d()},s=function(t){var e=t,n=$(".mobile-menu-btn"),i=$("html"),o=function(){s()},s=function(){n.on("click",function(){$(this).hasClass("close")?c():a()})},a=function(){n.addClass("close"),e.addClass("visible"),i.css("overflow-y","hidden"),$(".site__header")[0].obj.setCanUseScroll(!0)},c=function(){n.removeClass("close"),e.removeClass("visible"),i.removeAttr("style"),$(".site__header")[0].obj.setCanUseScroll(!1)};o()},a=function(t){var e=t,n=e.find(".menu__item"),i=e.find(".menu__subcategory"),o=$(".site"),s=$(window),a=function(){c()},c=function(){o.on("click",function(t){if(i.hasClass("show")&&0==$(t.target).closest(i).length&&0==$(t.target).closest(n).length)return r(),!1}),n.on("click",function(){var t=$(this),e=t.next(".menu__subcategory");if(t.next().is(".menu__subcategory")&&!e.hasClass("show")&&s.outerWidth()<1200)return l(e),!1})},r=function(){i.removeClass("show"),i.removeAttr("style")},l=function(t){var e=t;e.addClass("show"),e.height(e.find("ul").outerHeight()+20)};a()},c=function(t){var e=t,n=e.find(".search__form"),i=e.find(".search__open-btn"),o=$(".site"),s=($(window),function(){a()}),a=function(){o.on("click",function(t){if(n.hasClass("show")&&0==$(t.target).closest(n).length)return c(),!1}),i.on("click",function(){return n.hasClass("show")?c():r(),!1})},c=function(){n.removeClass("show")},r=function(){n.addClass("show")};s()},r=function(t){var e=t,n=e.find(".preloader__bar"),i=!1,o=!1,s=(e.data("delay"),$(window)),a=function(){s.on({load:function(){o=!0}})},c=function(){a(),r()},r=function(){var t=Math.floor(10*Math.random())+1,s=t;n.animate({width:""+t+"%"},200),setTimeout(function(){setInterval(function(){var t=Math.floor(90*Math.random())+1;t<90&&t>s&&(s=t,n.animate({width:""+t+"%"},200))},500)},1e3),setInterval(function(){o&&(n.animate({width:"100%"},200),e.css({opacity:0,visibility:"hidden"}),setTimeout(function(){e.remove()},650),i=!0)},500)};c()},l=function(t){var e,n=t,i=n.find(".products__swiper"),o=n.find(".products__prev"),s=n.find(".products__next"),a=function(){e=n.hasClass("products_single")?new Swiper(i,{autoplay:!1,speed:500,effect:"slide",slidesPerView:1,loop:!0,nextButton:s,prevButton:o}):new Swiper(i,{autoplay:!1,speed:500,effect:"slide",slidesPerView:4,loop:!0,nextButton:s,prevButton:o,breakpoints:{767:{slidesPerView:1},1199:{slidesPerView:2}}})},c=function(){},r=function(){c(),a()};r()},d=function(t){var e,n,i=t,o=i.find(".gallery-top"),s=i.find(".gallery-thumbs"),a=function(){e=new Swiper(o,{slidesPerView:1,onSlideChangeStart:function(){var t=$(".gallery-top").find(".swiper-slide"),e=t.filter(".swiper-slide-active").index(),n=$(".gallery-thumbs").find(".swiper-slide"),i=n.eq(e);n.removeClass("active"),i.addClass("active"),$(".gallery-thumbs")[0].swiper.slideTo(e,200,!1)}}),n=new Swiper(s,{slidesPerView:3,onInit:function(){var t=$(".gallery-thumbs").find(".swiper-slide");t.eq(0).addClass("active"),t.on("click",function(){var e=+$(this).index();return t.removeClass("active"),$(this).addClass("active"),$(".gallery-top")[0].swiper.slideTo(e,200,!1),!1})},onSlideChangeStart:function(){var t=$(".gallery-thumbs").find(".swiper-slide"),e=+t.filter(".active").index();+t.filter(".swiper-slide-active").index();$(".gallery-top")[0].swiper.slideTo(e,200,!1)}})},c=function(){},r=function(){c(),a()};r()},f=function(t){var e,n,i=t,o=i.find(".history__years"),s=i.find(".history__content"),a=o.find(".history__years-list"),c=i.find(".history__years-next"),r=i.find(".history__years-prev"),l=function(){e=new Swiper(s,{slidesPerView:1,onSlideChangeStart:function(){var t=$(".history__content").find(".swiper-slide"),e=t.filter(".swiper-slide-active").index(),n=$(".history__years-list").find(".swiper-slide"),i=n.eq(e);n.removeClass("swiper-slide-active"),i.addClass("swiper-slide-active"),$(".history__years-list")[0].swiper.slideTo(e,200,!1)}}),n=new Swiper(a,{slidesPerView:9,centeredSlides:!0,nextButton:c,prevButton:r,onInit:function(){var t=$(".history__years-list").find(".swiper-slide");t.eq(0).addClass("swiper-slide-active"),t.on("click",function(){var e=+$(this).index();return t.removeClass("swiper-slide-active"),$(this).addClass("swiper-slide-active"),$(".history__years-list")[0].swiper.slideTo(e,200,!1),$(".history__content")[0].swiper.slideTo(e,200,!1),!1})},onSlideChangeStart:function(){var t=$(".history__years-list").find(".swiper-slide"),e=+t.filter(".swiper-slide-active").index();+t.filter(".swiper-slide-active").index();$(".history__content")[0].swiper.slideTo(e,200,!1)}})},d=function(){},f=function(){d(),l()};f()},u=function(t){var e=t,n=e.find(".swiper-container"),i=e.find(".swiper-pagination"),o=null,s=function(){o=new Swiper(n,{autoplay:3e3,speed:500,effect:"fade",loop:!0,pagination:i,paginationClickable:!0})},a=function(){},c=function(){a(),s()};c()},h=function(t){var e=t,n=e.find(".tab__controls"),i=n.find(".tab__controls-item"),o=n.find(".active"),s=e.find(".tab__content"),a=s.find(".tab__content-item"),c=function(){i.on({click:function(){var t=$(this);t.hasClass("active")||(i.removeClass("active"),t.addClass("active"),r(t.index()))}}),$(window).on({load:function(){o.removeClass("active"),o.trigger("click")}})},r=function(t){a.removeClass("active"),a.eq(t).addClass("active"),s.css({height:a.eq(t).outerHeight()+"px"})},l=function(){c()};l()},p=function(t){var e=t,n=e.prev("span"),i=e.find(".FSR_container_vote"),o=i.find("span"),s=i.find("label"),a=function(){o.on("click",function(){c()}),s.on("click",function(){c()})},c=function(){var t=i.find(".FSR_container"),e=t.attr("data-rate");void 0===e?setTimeout(function(){c()},500):n.html(parseFloat(e).toFixed(1)+"/5")},r=function(){var t=e.find(".FSR_container"),i=e.find(".FSR_container_vote"),o=t.attr("data-rate"),s=i.attr("data-rate");console.log(o),void 0===o&&void 0===s?setTimeout(function(){r()},500):void 0!=o?n.html(parseFloat(o).toFixed(1)+"/5"):void 0!=s&&n.html(parseFloat(s).toFixed(1)+"/5")},l=function(){r(),a()};l()},v=function(t){var e=t,n=e.find(".social__item"),i=function(){n.on({click:function(t){var e=$(this);t.preventDefault(),t.stopPropagation(),$(".et_social_sidebar_networks .et_social_icons_container").find("a[data-social_name="+e.attr("data-social")+"]").trigger("click")}})},o=function(){i()};o()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5pbmRleC5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsIkNvbnRhY3RVcyIsInRoaXMiLCJEcm9wZG93biIsIkhlYWRlciIsIkxpc3RJbmZvIiwiRmFxIiwiTWVudSIsIlByZWxvYWRlciIsIlByb2R1Y3QiLCJTbGlkZXJzIiwiVGFiIiwiSGlzdG9yeSIsIkhlcm9TbGlkZXIiLCJTb2NpYWwiLCJTdWJNZW51IiwiU2VhcmNoIiwiUmF0ZSIsIm9iaiIsIl9zZWxmIiwiX29iaiIsIl9jaGVja2JveGVzIiwiZmluZCIsIl9yYWRpbyIsIl93cmFwIiwiX2RhdGFUZXh0IiwicGFyZW50IiwidGV4dCIsIl9pbnB1dEZpbGUiLCJfb25FdmVudHMiLCJvbiIsImNoYW5nZSIsImUiLCJmaWxlcyIsIm5hbWUiLCJhZGRDbGFzcyIsImF0dHIiLCJfY29uc3RydWN0IiwiX3RpdGxlcyIsIl9jb250ZW50cyIsImNsaWNrIiwiY3VyRWxlbSIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJzbGlkZVVwIiwibmV4dCIsInNsaWRlRG93biIsInNldENhblVzZVNjcm9sbCIsInBhcmFtIiwiX2NhblVzZVNtb290aFNjcm9sbCIsIl9sYXN0UG9zIiwiX2luZGV4SGVybyIsIl93aW5kb3ciLCJ3aW5kb3ciLCJET01Nb3VzZVNjcm9sbCIsImRlbHRhIiwib3JpZ2luYWxFdmVudCIsImRldGFpbCIsImRpcmVjdGlvbiIsIl9jaGVja1Njcm9sbCIsIm1vdXNld2hlZWwiLCJ3aGVlbERlbHRhIiwidG91Y2htb3ZlIiwiY3VycmVudFBvcyIsInRvdWNoZXMiLCJjbGllbnRZIiwia2V5ZG93biIsIndoaWNoIiwic2Nyb2xsIiwic3BhY2UiLCJsZW5ndGgiLCJvdXRlckhlaWdodCIsInNjcm9sbFRvcCIsIl9oaWRlSGVhZGVyIiwiX3Nob3dIZWFkZXIiLCJfYnRuIiwiX25hdkl0ZW1zIiwiX2NvbnRlbnQiLCJfcGF0aCIsImRhdGEiLCJfcmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0IiwiX2NvbnN0cnVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jbG9zZU1lbnUiLCJfb3Blbk1lbnUiLCJwcmV2ZW50RGVmYXVsdCIsImN1clBvc3REYXRhIiwiX2FqYXhSZXF1ZXN0IiwicG9zdERhdGEiLCJhYm9ydCIsImFqYXgiLCJ1cmwiLCJhY3Rpb24iLCJkYXRhVHlwZSIsInRpbWVvdXQiLCJ0eXBlIiwic3VjY2VzcyIsIm1zZyIsIl93cml0ZU5ld0NvbnRlbnQiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwiaHRtbCIsImVycm9yIiwic3RhdHVzVGV4dCIsImFsZXJ0Iiwid2luU2Nyb2xsVG9wIiwicG9zaXRpb25Ub3AiLCJoZWlnaHRFbGVtIiwiaGVpZ2h0Iiwib2Zmc2V0IiwidG9wIiwiY3NzIiwib3ZlcmZsb3ciLCJfbGluayIsIl90eXBlIiwiY29uc29sZSIsImxvZyIsIm9sZFBhdGgiLCJzdGF0ZSIsImZvbyIsInBhdGgiLCJleGVjIiwicGF0aFNwbGl0Iiwic3BsaXQiLCJmbGFnIiwiX2h0bWwiLCJyZW1vdmVBdHRyIiwiX21lbnVCdG4iLCJfc3ViTWVudSIsIl9zaXRlIiwiX2luaXQiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiX2Nsb3NlU3ViTWVudSIsImN1ckJ0biIsImN1clN1Yk1lbnUiLCJpcyIsIm91dGVyV2lkdGgiLCJfb3BlblN1Yk1lbnUiLCJzdWJNZW51IiwiX2Zvcm0iLCJfYnRuT3BlbiIsIl9jbG9zZUZyYW1lIiwiX29wZW5GcmFtZSIsIl9sb2FkZXIiLCJfZmxhZyIsIl9sb2FkRmxhZyIsImxvYWQiLCJfbG9hZEJhciIsImZpcnN0TG9hZFZhbCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImN1clZhbHVlIiwiYW5pbWF0ZSIsIndpZHRoIiwic2V0VGltZW91dCIsInNldEludGVydmFsIiwibG9hZFZhbCIsIm9wYWNpdHkiLCJ2aXNpYmlsaXR5IiwicmVtb3ZlIiwiX3Byb2R1Y3RzIiwiX3Byb2R1Y3RzU3dpcGVyIiwiX3Byb2R1Y3RzUHJldiIsIl9wcm9kdWN0c05leHQiLCJfaW5pdFNsaWRlciIsIlN3aXBlciIsImF1dG9wbGF5Iiwic3BlZWQiLCJlZmZlY3QiLCJzbGlkZXNQZXJWaWV3IiwibG9vcCIsIm5leHRCdXR0b24iLCJwcmV2QnV0dG9uIiwiYnJlYWtwb2ludHMiLCI3NjciLCIxMTk5IiwiX29uRXZlbnQiLCJfZ2FsbGVyeVRvcCIsIl9nYWxsZXJ5VGh1bWJzIiwiX3RvcEdhbGxlcnkiLCJfdGh1bWJzR2FsbGVyeSIsIm9uU2xpZGVDaGFuZ2VTdGFydCIsInByb21vVGFic1NsaWRlIiwiY3VyU2xpZGUiLCJmaWx0ZXIiLCJpbmRleCIsInByb21vTWFpblNsaWRlIiwicHJvbW9NYWluQWN0aXZlU2xpZGUiLCJlcSIsInN3aXBlciIsInNsaWRlVG8iLCJvbkluaXQiLCJfc3dpcGVyIiwiX3N3aXBlclllYXJzTGlzdCIsIl95ZWFycyIsIl9jb250ZW50U2xpZGVyIiwiX3llYXJzTGlzdCIsIl95ZWFyTmV4dCIsIl95ZWFyUHJldiIsIl9pbml0U2xpZGVycyIsImNlbnRlcmVkU2xpZGVzIiwiX3NsaWRlciIsIl9wYWdpbmF0aW9uIiwicGFnaW5hdGlvbiIsInBhZ2luYXRpb25DbGlja2FibGUiLCJfY29udHJvbHNXcmFwIiwiX2NvbnRyb2xzIiwiX2FjdGl2ZUNvbnRyb2wiLCJfY29udGVudHNXcmFwIiwiY3VySXRlbSIsIl9zaG93QWN0aXZlQ29udGVudCIsInRyaWdnZXIiLCJhY3RpdmVJbmRleCIsIl9yYXRlTnVtYmVyIiwicHJldiIsIl9yYXRlRnJhbWUiLCJfcmF0ZUl0ZW1TcGFuIiwiX3JhdGVJdGVtTGFiZWwiLCJfcmF0ZSIsIm5ld1JhdGVGcmFtZSIsInJhdGVDYWxjdWxhdGUiLCJ1bmRlZmluZWQiLCJwYXJzZUZsb2F0IiwidG9GaXhlZCIsIl9sb2FkUmF0ZSIsInJhdGVDb250YWluZXIiLCJyYXRlQ29udGFpbmVyVm90ZSIsInJhdGVDYWxjdWxhdGVWb3RlIiwiX3NvY2lhbEJ1dHRvbiIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIl0sIm1hcHBpbmdz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QTBEdUIsS0FBSyxzQkFBc0I4TCxFQUFRaEwsS0FBSyxlQUFlLEtBQUtrTCxRQUFTLGFBSTdJbkYsRUFBUSxXQUNKZ0QsSUFJSmhEIiwiZmlsZSI6ImluZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiggZnVuY3Rpb24oKXtcclxuXHJcbiAgICAkKCBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcuY29udGFjdC11cycgKSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBuZXcgQ29udGFjdFVzKCAkKHRoaXMpICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcuZHJvcGRvd24nICksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmV3IERyb3Bkb3duKCAkKHRoaXMpICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcuc2l0ZV9faGVhZGVyJyApLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG5ldyBIZWFkZXIoICQodGhpcykgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5saXN0LWluZm8nICksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmV3IExpc3RJbmZvKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5mYXEnICksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmV3IEZhcSggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcubW9iaWxlLW1lbnUnICksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmV3IE1lbnUoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLnByZWxvYWRlcicgKSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBuZXcgUHJlbG9hZGVyKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5wcm9kdWN0JyApLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG5ldyBQcm9kdWN0KCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5wcm9kdWN0cycgKSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBuZXcgU2xpZGVycyggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcudGFiJyApLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG5ldyBUYWIoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLmhpc3RvcnknICksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmV3IEhpc3RvcnkoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLmhlcm8tc2xpZGVyJyApLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG5ldyBIZXJvU2xpZGVyKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5zaGFyZScgKSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBuZXcgU29jaWFsKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5tZW51JyApLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG5ldyBTdWJNZW51KCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5zZWFyY2gnICksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmV3IFNlYXJjaCggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcucmF0ZScgKSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBuZXcgUmF0ZSggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgIH0gKTtcclxuXHJcbiAgICB2YXIgQ29udGFjdFVzID0gZnVuY3Rpb24gKCBvYmogKSB7XHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX2NoZWNrYm94ZXMgPSBvYmouZmluZCgnaW5wdXRbdHlwZT1jaGVja2JveF0nKSxcclxuICAgICAgICAgICAgX3JhZGlvID0gb2JqLmZpbmQoJ2lucHV0W3R5cGU9cmFkaW9dJyksXHJcbiAgICAgICAgICAgIF93cmFwID0gX29iai5maW5kKCcuZ2lucHV0X2NvbnRhaW5lcl9maWxldXBsb2FkJyksXHJcbiAgICAgICAgICAgIF9kYXRhVGV4dCA9IF93cmFwLnBhcmVudCgpLmZpbmQoJy5nZmllbGRfZGVzY3JpcHRpb24nKS50ZXh0KCksXHJcbiAgICAgICAgICAgIF9pbnB1dEZpbGUgPSBfb2JqLmZpbmQoJ2lucHV0W3R5cGU9ZmlsZV0nKTtcclxuXHJcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9pbnB1dEZpbGUub24oIHtcclxuICAgICAgICAgICAgICAgICAgICAnY2hhbmdlJzogZnVuY3Rpb24gKCBlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggdGhpcy5maWxlcyAmJiB0aGlzLmZpbGVzWzBdICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGF0YVRleHQgPSB0aGlzLmZpbGVzWzBdLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd3JhcC5hZGRDbGFzcygnY2hhbmdpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93cmFwLmF0dHIoJ2RhdGEtdGV4dCcsIF9kYXRhVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfY2hlY2tib3hlcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCduaWNlLWNoZWNrYm94Jyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIF9yYWRpby5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCduaWNlLXJhZGlvJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIF93cmFwLmF0dHIoJ2RhdGEtdGV4dCcsIF9kYXRhVGV4dCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2NvbnN0cnVjdCgpXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBEcm9wZG93biA9IGZ1bmN0aW9uICggb2JqICkge1xyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF90aXRsZXMgPSBfb2JqLmZpbmQoJy5kcm9wZG93bl9fdGl0bGUnKSxcclxuICAgICAgICAgICAgX2NvbnRlbnRzID0gX29iai5maW5kKCcuZHJvcGRvd25fX2NvbnRlbnQnKTtcclxuXHJcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF90aXRsZXMub24oIHtcclxuICAgICAgICAgICAgICAgICAgICAnY2xpY2snOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckVsZW0gPSAkKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhY3VyRWxlbS5oYXNDbGFzcygnYWN0aXZlJykgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGl0bGVzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW0uYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRlbnRzLnNsaWRlVXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykubmV4dCgpLnNsaWRlRG93bigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3Nob3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnaGlkZGVuJyApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaGlkZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdoaWRkZW4nICk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jb25zdHJ1Y3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXHJcbiAgICAgICAgX3NlbGYuc2V0Q2FuVXNlU2Nyb2xsID0gZnVuY3Rpb24gKCBwYXJhbSApIHtcclxuICAgICAgICAgICAgX2NhblVzZVNtb290aFNjcm9sbCA9IHBhcmFtO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF9jb25zdHJ1Y3QoKVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgSGVhZGVyID0gZnVuY3Rpb24gKCBvYmogKSB7XHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX2xhc3RQb3MsXHJcbiAgICAgICAgICAgIF9jYW5Vc2VTbW9vdGhTY3JvbGwgPSB0cnVlLFxyXG4gICAgICAgICAgICBfaW5kZXhIZXJvID0gJCggJy5oZXJvJyApLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICk7XHJcblxyXG4gICAgICAgIHZhciBfb25FdmVudHMgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ0RPTU1vdXNlU2Nyb2xsJzogZnVuY3Rpb24gKCBlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBlLm9yaWdpbmFsRXZlbnQuZGV0YWlsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGRlbHRhICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9ICggZGVsdGEgPiAwICkgPyAxIDogLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoIGRpcmVjdGlvbiApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAnbW91c2V3aGVlbCc6IGZ1bmN0aW9uICggZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gZS5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZGVsdGEgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gKCBkZWx0YSA+IDAgKSA/IC0xIDogMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCggZGlyZWN0aW9uICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICd0b3VjaG1vdmUnOiBmdW5jdGlvbiAoIGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50UG9zID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBjdXJyZW50UG9zID4gX2xhc3RQb3MgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoIC0xICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGN1cnJlbnRQb3MgPCBfbGFzdFBvcyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCggMSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sYXN0UG9zID0gY3VycmVudFBvcztcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICdrZXlkb3duJzogZnVuY3Rpb24gKCBlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goIGUud2hpY2ggKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoIDEgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCAtMSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzNCA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCAxICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM1IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoIDEgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzYgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCggLTEgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzg6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCAtMSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0MDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoIDEgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3Njcm9sbCc6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlID0gMzQwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBfaW5kZXhIZXJvLmxlbmd0aCA+IDAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFjZSA9IF9pbmRleEhlcm8ub3V0ZXJIZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBfd2luZG93LnNjcm9sbFRvcCgpID4gc3BhY2UgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnZml4ZWQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnZml4ZWQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2NoZWNrU2Nyb2xsID0gZnVuY3Rpb24oIGRpcmVjdGlvbiApe1xyXG4gICAgICAgICAgICAgICAgaWYoIGRpcmVjdGlvbiA+IDAgJiYgIV9vYmouaGFzQ2xhc3MoICdoaWRkZW4nICkgJiYgX3dpbmRvdy5zY3JvbGxUb3AoKSA+IF9vYmoub3V0ZXJIZWlnaHQoKSAmJiBfY2FuVXNlU21vb3RoU2Nyb2xsICkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9oaWRlSGVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIGRpcmVjdGlvbiA8IDAgJiYgX29iai5oYXNDbGFzcyggJ2hpZGRlbicgKSAmJiBfY2FuVXNlU21vb3RoU2Nyb2xsICkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9zaG93SGVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9zaG93SGVhZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ2hpZGRlbicgKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2hpZGVIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnaGlkZGVuJyApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG4gICAgICAgIF9zZWxmLnNldENhblVzZVNjcm9sbCA9IGZ1bmN0aW9uICggcGFyYW0gKSB7XHJcbiAgICAgICAgICAgIF9jYW5Vc2VTbW9vdGhTY3JvbGwgPSBwYXJhbTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfY29uc3RydWN0KClcclxuICAgIH07XHJcblxyXG4gICAgdmFyIExpc3RJbmZvID0gZnVuY3Rpb24oIG9iaiApe1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfYnRuID0gX29iai5maW5kKCcubGlzdC1pbmZvX19tZW51LXRpdGxlJyksXHJcbiAgICAgICAgICAgIF93cmFwID0gX29iai5maW5kKCduYXYnKSxcclxuICAgICAgICAgICAgX25hdkl0ZW1zID0gX3dyYXAuZmluZCgnYScpLFxyXG4gICAgICAgICAgICBfY29udGVudCA9IF9vYmouZmluZCgnLmxpc3QtaW5mb19fY29udGVudCcpLFxyXG4gICAgICAgICAgICBfcGF0aCA9ICQoJ2JvZHknKS5kYXRhKCAnYWN0aW9uJyApLFxyXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfY29uc3RydWN0b3IgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g0J/QtdGA0LXQtNCw0LXQvCDRgtC10LrRg9GJ0LjQuSBVUkxcclxuICAgICAgICAgICAgICAgICAgICAvLyBnZXRDb250ZW50KGxvY2F0aW9uLnBhdGhuYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gX3dyaXRlTmV3Q29udGVudChlLnN0YXRlLmh0bWwpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgX2J0bi5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghX3dyYXAuaGFzQ2xhc3MoJ29wZW4nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb3Blbk1lbnUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VNZW51KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfbmF2SXRlbXMub24oICdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJFbGVtID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyUG9zdERhdGEgPSBjdXJFbGVtLmRhdGEoJ3Bvc3QnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhY3VyRWxlbS5oYXNDbGFzcygnYWN0aXZlJykgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9uYXZJdGVtcy5hdHRyKCdjbGFzcycsICcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIF9nZXRDb250ZXh0KGN1clBvc3REYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hamF4UmVxdWVzdChjdXJQb3N0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZU1lbnUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIF9nZXRDb250ZXh0KGN1clBvc3REYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2FqYXhSZXF1ZXN0ID0gZnVuY3Rpb24ocG9zdERhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfcmVxdWVzdC5hYm9ydCgpO1xyXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogX3BhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBhY3Rpb246ICdwb3N0JywgZGF0YTogcG9zdERhdGEgfSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDIwMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKG1zZykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX3dyaXRlTmV3Q29udGVudChtc2cpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoe2h0bWw6IG1zZ30sIG51bGwsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICggWE1MSHR0cFJlcXVlc3QgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBYTUxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0ICE9IFwiYWJvcnRcIiApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCAnRXJyb3IhJyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfZ2V0Q29udGV4dCA9IGZ1bmN0aW9uKHVybCl7XHJcbiAgICAgICAgICAgICAgICAkLmdldCh1cmwpXHJcbiAgICAgICAgICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24oIGRhdGEgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGluZyBDb250ZW50IG9uIFBhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3dyaXRlTmV3Q29udGVudChkYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG51bGwsIHVybCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHdpblNjcm9sbFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKSxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblRvcCA9IF9idG4ub3V0ZXJIZWlnaHQoKSxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHRFbGVtID0gJCh3aW5kb3cpLmhlaWdodCgpIC0gX2J0bi5vZmZzZXQoKS50b3AgLSBwb3NpdGlvblRvcCArIHdpblNjcm9sbFRvcDtcclxuXHJcbiAgICAgICAgICAgICAgICBfd3JhcC5hZGRDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgX3dyYXAuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0JzogaGVpZ2h0RWxlbSArICdweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RvcCc6IHBvc2l0aW9uVG9wICsgJ3B4J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJCgnaHRtbCcpLmNzcyh7ICdvdmVyZmxvdyc6ICdoaWRkZW4nIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICQoICcuc2l0ZV9faGVhZGVyJyApWzBdLm9iai5zZXRDYW5Vc2VTY3JvbGwoIHRydWUgKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Nsb3NlTWVudSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBfd3JhcC5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgX3dyYXAuYXR0cignc3R5bGUnLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAkKCdodG1sJykuYXR0cignc3R5bGUnLCAnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgJCggJy5zaXRlX19oZWFkZXInIClbMF0ub2JqLnNldENhblVzZVNjcm9sbCggZmFsc2UgKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3dyaXRlTmV3Q29udGVudCA9IGZ1bmN0aW9uKGh0bWwpe1xyXG4gICAgICAgICAgICAgICAgX2NvbnRlbnQuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgICAgICBfY29udGVudC5odG1sKGh0bWwpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgRmFxID0gZnVuY3Rpb24oIG9iaiApe1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfYnRuID0gX29iai5maW5kKCcuZmFxX19tZW51LXRpdGxlJyksXHJcbiAgICAgICAgICAgIF93cmFwID0gX29iai5maW5kKCAnbmF2JyApLFxyXG4gICAgICAgICAgICBfbmF2SXRlbXMgPSBfd3JhcC5maW5kKCAnYScgKSxcclxuICAgICAgICAgICAgX2NvbnRlbnQgPSBfb2JqLmZpbmQoJy5mYXFfX2NvbnRlbnQnKSxcclxuICAgICAgICAgICAgX2xpbmsgPSAkKCAnYm9keScgKS5kYXRhKCAnYWN0aW9uJyApLFxyXG4gICAgICAgICAgICBfdHlwZSA9ICQoICdib2R5JyApLmRhdGEoICd0eXBlJyApLFxyXG4gICAgICAgICAgICBfcGF0aCA9IG51bGwsXHJcbiAgICAgICAgICAgIF9yZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggJzEnIClcclxuXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3BvcHN0YXRlJywgZnVuY3Rpb24oIGUgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvbGRQYXRoID0gX3BhdGg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggZS5zdGF0ZSA9PSBudWxsICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIGUuc3RhdGUgKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX3BhdGggPSAncGhwLycgKyBlLnN0YXRlLmZvbyArICcucGhwJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggb2xkUGF0aCAhPSBfcGF0aCApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCBlLnN0YXRlIClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfYnRuLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfd3JhcC5oYXNDbGFzcygnb3BlbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuTWVudSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZU1lbnUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9uYXZJdGVtcy5vbiggJ2NsaWNrJywgZnVuY3Rpb24oIGUgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckVsZW0gPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJQb3N0RGF0YSA9IGN1ckVsZW0uZGF0YSggJ3Bvc3QnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggIWN1ckVsZW0uaGFzQ2xhc3MoICdhY3RpdmUnICkgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfbmF2SXRlbXMucmVtb3ZlQ2xhc3MoICdhY3RpdmUnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW0uYWRkQ2xhc3MoICdhY3RpdmUnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBfZ2V0Q29udGV4dChjdXJQb3N0RGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcGF0aCA9IGN1ckVsZW0uYXR0ciggJ2hyZWYnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IC9bXi9dKiQvLmV4ZWMoIF9wYXRoIClbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoU3BsaXQgPSBwYXRoLnNwbGl0KCAnLicgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHBhdGhTcGxpdFswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKCB7IGZvbzogcGF0aCB9LCBudWxsLCBwYXRoICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYWpheFJlcXVlc3QoIGN1clBvc3REYXRhICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZU1lbnUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIF9nZXRDb250ZXh0KGN1clBvc3REYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfYWpheFJlcXVlc3QgPSBmdW5jdGlvbiggcG9zdERhdGEgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcclxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBfbGluayxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBwb3N0RGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZzogX3R5cGVcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMjAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnZXRcIixcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoIG1zZyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF93cml0ZU5ld0NvbnRlbnQoIG1zZyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoIFhNTEh0dHBSZXF1ZXN0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSBcImFib3J0XCIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCggJ0Vycm9yIScgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vcGVuTWVudSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgd2luU2Nyb2xsVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uVG9wID0gX2J0bi5vdXRlckhlaWdodCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodEVsZW0gPSAkKHdpbmRvdykuaGVpZ2h0KCkgLSBfYnRuLm9mZnNldCgpLnRvcCAtIHBvc2l0aW9uVG9wICsgd2luU2Nyb2xsVG9wO1xyXG5cclxuICAgICAgICAgICAgICAgIF93cmFwLmFkZENsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgICAgICAgICBfd3JhcC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICdoZWlnaHQnOiBoZWlnaHRFbGVtICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICAndG9wJzogcG9zaXRpb25Ub3AgKyAncHgnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAkKCdodG1sJykuY3NzKHsgJ292ZXJmbG93JzogJ2hpZGRlbicgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJCggJy5zaXRlX19oZWFkZXInIClbMF0ub2JqLnNldENhblVzZVNjcm9sbCggdHJ1ZSApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY2xvc2VNZW51ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIF93cmFwLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgICAgICAgICBfd3JhcC5hdHRyKCdzdHlsZScsICcnKTtcclxuICAgICAgICAgICAgICAgICQoJ2h0bWwnKS5hdHRyKCdzdHlsZScsICcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkKCAnLnNpdGVfX2hlYWRlcicgKVswXS5vYmouc2V0Q2FuVXNlU2Nyb2xsKCBmYWxzZSApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfd3JpdGVOZXdDb250ZW50ID0gZnVuY3Rpb24oIGh0bWwgKXtcclxuICAgICAgICAgICAgICAgIF9jb250ZW50Lmh0bWwoJycpO1xyXG4gICAgICAgICAgICAgICAgX2NvbnRlbnQuaHRtbCggaHRtbCApO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgTWVudSA9IGZ1bmN0aW9uKCBvYmogKXtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX2J0biA9ICQoICcubW9iaWxlLW1lbnUtYnRuJyApLFxyXG4gICAgICAgICAgICBfaHRtbCA9ICQoICdodG1sJyApO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfY29uc3RydWN0b3IgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgX2J0bi5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggJCggdGhpcykuaGFzQ2xhc3MoICdjbG9zZScgKSApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VNZW51KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5NZW51KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vcGVuTWVudSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBfYnRuLmFkZENsYXNzKCAnY2xvc2UnICk7XHJcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAndmlzaWJsZScgKTtcclxuICAgICAgICAgICAgICAgIF9odG1sLmNzcyggJ292ZXJmbG93LXknLCAnaGlkZGVuJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICQoICcuc2l0ZV9faGVhZGVyJyApWzBdLm9iai5zZXRDYW5Vc2VTY3JvbGwoIHRydWUgKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Nsb3NlTWVudSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBfYnRuLnJlbW92ZUNsYXNzKCAnY2xvc2UnICk7XHJcbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAndmlzaWJsZScgKTtcclxuICAgICAgICAgICAgICAgIF9odG1sLnJlbW92ZUF0dHIoICdzdHlsZScgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkKCAnLnNpdGVfX2hlYWRlcicgKVswXS5vYmouc2V0Q2FuVXNlU2Nyb2xsKCBmYWxzZSApO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgU3ViTWVudSA9IGZ1bmN0aW9uKCBvYmogKXtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX21lbnVCdG4gPSBfb2JqLmZpbmQoICcubWVudV9faXRlbScgKSxcclxuICAgICAgICAgICAgX3N1Yk1lbnUgPSBfb2JqLmZpbmQoICcubWVudV9fc3ViY2F0ZWdvcnknICksXHJcbiAgICAgICAgICAgIF9zaXRlID0gJCggJy5zaXRlJyApLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9pbml0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIF9zaXRlLm9uKFxyXG4gICAgICAgICAgICAgICAgICAgICdjbGljaycsIGZ1bmN0aW9uICggZSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggX3N1Yk1lbnUuaGFzQ2xhc3MoICdzaG93JyApICYmICQoIGUudGFyZ2V0ICkuY2xvc2VzdCggX3N1Yk1lbnUgKS5sZW5ndGggPT0gMCAmJiAkKCBlLnRhcmdldCApLmNsb3Nlc3QoIF9tZW51QnRuICkubGVuZ3RoID09IDAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZVN1Yk1lbnUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9tZW51QnRuLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckJ0biA9ICQoIHRoaXMgKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyU3ViTWVudSA9IGN1ckJ0bi5uZXh0KCAnLm1lbnVfX3N1YmNhdGVnb3J5JyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGN1ckJ0bi5uZXh0KCkuaXMoICcubWVudV9fc3ViY2F0ZWdvcnknICkgJiYgIWN1clN1Yk1lbnUuaGFzQ2xhc3MoICdzaG93JyApICYmIF93aW5kb3cub3V0ZXJXaWR0aCgpIDwgMTIwMCAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5TdWJNZW51KCBjdXJTdWJNZW51ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Nsb3NlU3ViTWVudSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfc3ViTWVudS5yZW1vdmVDbGFzcyggJ3Nob3cnICk7XHJcbiAgICAgICAgICAgICAgICBfc3ViTWVudS5yZW1vdmVBdHRyKCAnc3R5bGUnICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb3BlblN1Yk1lbnUgPSBmdW5jdGlvbiggb2JqICl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHN1Yk1lbnUgPSBvYmo7XHJcblxyXG4gICAgICAgICAgICAgICAgc3ViTWVudS5hZGRDbGFzcyggJ3Nob3cnICk7XHJcbiAgICAgICAgICAgICAgICBzdWJNZW51LmhlaWdodCggc3ViTWVudS5maW5kKCAndWwnICkub3V0ZXJIZWlnaHQoKSArIDIwICk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBTZWFyY2ggPSBmdW5jdGlvbiggb2JqICl7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9mb3JtID0gX29iai5maW5kKCAnLnNlYXJjaF9fZm9ybScgKSxcclxuICAgICAgICAgICAgX2J0bk9wZW4gPSBfb2JqLmZpbmQoICcuc2VhcmNoX19vcGVuLWJ0bicgKSxcclxuICAgICAgICAgICAgX3NpdGUgPSAkKCAnLnNpdGUnICksXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2luaXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgX3NpdGUub24oXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJywgZnVuY3Rpb24gKCBlICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBfZm9ybS5oYXNDbGFzcyggJ3Nob3cnICkgJiYgJCggZS50YXJnZXQgKS5jbG9zZXN0KCBfZm9ybSApLmxlbmd0aCA9PSAwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VGcmFtZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX2J0bk9wZW4ub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoICFfZm9ybS5oYXNDbGFzcyggJ3Nob3cnICkgICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuRnJhbWUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VGcmFtZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jbG9zZUZyYW1lID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9mb3JtLnJlbW92ZUNsYXNzKCAnc2hvdycgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vcGVuRnJhbWUgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIF9mb3JtLmFkZENsYXNzKCAnc2hvdycgKTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgdmFyIFByZWxvYWRlciA9IGZ1bmN0aW9uICggb2JqICkge1xyXG5cclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX2xvYWRlciA9IF9vYmouZmluZCggJy5wcmVsb2FkZXJfX2JhcicgKSxcclxuICAgICAgICAgICAgX2ZsYWcgPSBmYWxzZSxcclxuICAgICAgICAgICAgX2xvYWRGbGFnID0gZmFsc2UsXHJcbiAgICAgICAgICAgIF9kZWxheSA9IF9vYmouZGF0YSggJ2RlbGF5JyApLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICk7XHJcblxyXG4gICAgICAgIHZhciBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2xvYWRGbGFnID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgX2xvYWRCYXIoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2xvYWRCYXIgPSBmdW5jdGlvbiAoKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZmlyc3RMb2FkVmFsID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApICsgMSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJWYWx1ZSA9IGZpcnN0TG9hZFZhbDtcclxuXHJcbiAgICAgICAgICAgICAgICBfbG9hZGVyLmFuaW1hdGUoeyd3aWR0aCc6JycrZmlyc3RMb2FkVmFsKyclJ30sIDIwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb2FkVmFsID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOTApICsgMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGxvYWRWYWw8OTAgJiYgbG9hZFZhbD5jdXJWYWx1ZSl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyVmFsdWUgPSBsb2FkVmFsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkZXIuYW5pbWF0ZSh7J3dpZHRoJzonJytsb2FkVmFsKyclJ30sIDIwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoX2xvYWRGbGFnKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkZXIuYW5pbWF0ZSh7J3dpZHRoJzogMTAwKyclJ30sIDIwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29wYWNpdHknOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Zpc2liaWxpdHknOiAnaGlkZGVuJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDY1MCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZmxhZyA9IHRydWVcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgNTAwKTtcclxuXHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgU2xpZGVycyA9IGZ1bmN0aW9uKCBvYmogKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9wcm9kdWN0c1N3aXBlciA9IF9vYmouZmluZCggJy5wcm9kdWN0c19fc3dpcGVyJyApLFxyXG4gICAgICAgICAgICBfcHJvZHVjdHNQcmV2ID0gX29iai5maW5kKCAnLnByb2R1Y3RzX19wcmV2JyApLFxyXG4gICAgICAgICAgICBfcHJvZHVjdHNOZXh0ID0gX29iai5maW5kKCAnLnByb2R1Y3RzX19uZXh0JyApLFxyXG4gICAgICAgICAgICBfcHJvZHVjdHM7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9pbml0U2xpZGVyID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfb2JqLmhhc0NsYXNzKCdwcm9kdWN0c19zaW5nbGUnKSApIHtcclxuICAgICAgICAgICAgICAgICAgICBfcHJvZHVjdHMgPSBuZXcgU3dpcGVyICggX3Byb2R1Y3RzU3dpcGVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAnc2xpZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfcHJvZHVjdHNOZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfcHJvZHVjdHNQcmV2XHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfcHJvZHVjdHMgPSBuZXcgU3dpcGVyICggX3Byb2R1Y3RzU3dpcGVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAnc2xpZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfcHJvZHVjdHNOZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfcHJvZHVjdHNQcmV2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNzY3OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDExOTk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb25FdmVudCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICBfaW5pdFNsaWRlciAoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBQcm9kdWN0ID0gZnVuY3Rpb24oIG9iaiApIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX3RvcEdhbGxlcnkgPSBfb2JqLmZpbmQoICcuZ2FsbGVyeS10b3AnICksXHJcbiAgICAgICAgICAgIF90aHVtYnNHYWxsZXJ5ID0gX29iai5maW5kKCAnLmdhbGxlcnktdGh1bWJzJyApLFxyXG4gICAgICAgICAgICBfZ2FsbGVyeVRvcCwgX2dhbGxlcnlUaHVtYnM7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9pbml0U2xpZGVyID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX2dhbGxlcnlUb3AgPSBuZXcgU3dpcGVyKCBfdG9wR2FsbGVyeSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgb25TbGlkZUNoYW5nZVN0YXJ0OiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbW9UYWJzU2xpZGUgPSAkKCAnLmdhbGxlcnktdG9wJyApLmZpbmQoICcuc3dpcGVyLXNsaWRlJyApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2xpZGUgPSBwcm9tb1RhYnNTbGlkZS5maWx0ZXIoICcuc3dpcGVyLXNsaWRlLWFjdGl2ZScgKS5pbmRleCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbW9NYWluU2xpZGUgPSAkKCAnLmdhbGxlcnktdGh1bWJzJyApLmZpbmQoICcuc3dpcGVyLXNsaWRlJyApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbW9NYWluQWN0aXZlU2xpZGUgPSBwcm9tb01haW5TbGlkZS5lcSggY3VyU2xpZGUgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21vTWFpblNsaWRlLnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9tb01haW5BY3RpdmVTbGlkZS5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoICcuZ2FsbGVyeS10aHVtYnMnIClbMF0uc3dpcGVyLnNsaWRlVG8oIGN1clNsaWRlLCAyMDAsIGZhbHNlIClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAgICAgX2dhbGxlcnlUaHVtYnMgPSBuZXcgU3dpcGVyKCBfdGh1bWJzR2FsbGVyeSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgb25Jbml0OiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbW9UYWJzU2xpZGUgPSAkKCAnLmdhbGxlcnktdGh1bWJzJyApLmZpbmQoICcuc3dpcGVyLXNsaWRlJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbW9UYWJzU2xpZGUuZXEoIDAgKS5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21vVGFic1NsaWRlLm9uKCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1clNsaWRlID0gKyggJCggdGhpcyApLmluZGV4KCkgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9tb1RhYnNTbGlkZS5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIHRoaXMgKS5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCAnLmdhbGxlcnktdG9wJyApWzBdLnN3aXBlci5zbGlkZVRvKCBjdXJTbGlkZSwgMjAwLCBmYWxzZSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uU2xpZGVDaGFuZ2VTdGFydDogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb21vVGFic1NsaWRlID0gJCggJy5nYWxsZXJ5LXRodW1icycgKS5maW5kKCAnLnN3aXBlci1zbGlkZScgKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clNsaWRlID0gKyggcHJvbW9UYWJzU2xpZGUuZmlsdGVyKCAnLmFjdGl2ZScgKS5pbmRleCgpICksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJBY3RpdmVTbGlkZSA9ICsoIHByb21vVGFic1NsaWRlLmZpbHRlciggJy5zd2lwZXItc2xpZGUtYWN0aXZlJyApLmluZGV4KCkgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qaWYgKCBjdXJBY3RpdmVTbGlkZSA+PSBjdXJTbGlkZSApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSovXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCAnLmdhbGxlcnktdG9wJyApWzBdLnN3aXBlci5zbGlkZVRvKCBjdXJTbGlkZSwgMjAwLCBmYWxzZSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29uRXZlbnQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgX2luaXRTbGlkZXIgKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgSGlzdG9yeSA9IGZ1bmN0aW9uKCBvYmogKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF95ZWFycyA9IF9vYmouZmluZCggJy5oaXN0b3J5X195ZWFycycgKSxcclxuICAgICAgICAgICAgX2NvbnRlbnRTbGlkZXIgPSBfb2JqLmZpbmQoICcuaGlzdG9yeV9fY29udGVudCcgKSxcclxuICAgICAgICAgICAgX3llYXJzTGlzdCA9IF95ZWFycy5maW5kKCAnLmhpc3RvcnlfX3llYXJzLWxpc3QnICksXHJcbiAgICAgICAgICAgIF95ZWFyTmV4dCA9IF9vYmouZmluZCggJy5oaXN0b3J5X195ZWFycy1uZXh0JyApLFxyXG4gICAgICAgICAgICBfeWVhclByZXYgPSBfb2JqLmZpbmQoICcuaGlzdG9yeV9feWVhcnMtcHJldicgKSxcclxuICAgICAgICAgICAgX3N3aXBlciwgX3N3aXBlclllYXJzTGlzdDtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2luaXRTbGlkZXJzID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3N3aXBlciA9IG5ldyBTd2lwZXIoIF9jb250ZW50U2xpZGVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgICAgICAgICAgICAgICAgICBvblNsaWRlQ2hhbmdlU3RhcnQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9tb1RhYnNTbGlkZSA9ICQoICcuaGlzdG9yeV9fY29udGVudCcgKS5maW5kKCAnLnN3aXBlci1zbGlkZScgKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clNsaWRlID0gcHJvbW9UYWJzU2xpZGUuZmlsdGVyKCAnLnN3aXBlci1zbGlkZS1hY3RpdmUnICkuaW5kZXgoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21vTWFpblNsaWRlID0gJCggJy5oaXN0b3J5X195ZWFycy1saXN0JyApLmZpbmQoICcuc3dpcGVyLXNsaWRlJyApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbW9NYWluQWN0aXZlU2xpZGUgPSBwcm9tb01haW5TbGlkZS5lcSggY3VyU2xpZGUgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21vTWFpblNsaWRlLnJlbW92ZUNsYXNzKCAnc3dpcGVyLXNsaWRlLWFjdGl2ZScgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbW9NYWluQWN0aXZlU2xpZGUuYWRkQ2xhc3MoICdzd2lwZXItc2xpZGUtYWN0aXZlJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJCggJy5oaXN0b3J5X195ZWFycy1saXN0JyApWzBdLnN3aXBlci5zbGlkZVRvKCBjdXJTbGlkZSwgMjAwLCBmYWxzZSApXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyWWVhcnNMaXN0ID0gbmV3IFN3aXBlciggX3llYXJzTGlzdCwge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDksXHJcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX3llYXJOZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF95ZWFyUHJldixcclxuICAgICAgICAgICAgICAgICAgICBvbkluaXQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9tb1RhYnNTbGlkZSA9ICQoICcuaGlzdG9yeV9feWVhcnMtbGlzdCcgKS5maW5kKCAnLnN3aXBlci1zbGlkZScgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21vVGFic1NsaWRlLmVxKCAwICkuYWRkQ2xhc3MoICdzd2lwZXItc2xpZGUtYWN0aXZlJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbW9UYWJzU2xpZGUub24oICdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyU2xpZGUgPSArKCAkKCB0aGlzICkuaW5kZXgoKSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21vVGFic1NsaWRlLnJlbW92ZUNsYXNzKCAnc3dpcGVyLXNsaWRlLWFjdGl2ZScgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIHRoaXMgKS5hZGRDbGFzcyggJ3N3aXBlci1zbGlkZS1hY3RpdmUnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCggJy5oaXN0b3J5X195ZWFycy1saXN0JyApWzBdLnN3aXBlci5zbGlkZVRvKCBjdXJTbGlkZSwgMjAwLCBmYWxzZSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCggJy5oaXN0b3J5X19jb250ZW50JyApWzBdLnN3aXBlci5zbGlkZVRvKCBjdXJTbGlkZSwgMjAwLCBmYWxzZSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uU2xpZGVDaGFuZ2VTdGFydDogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb21vVGFic1NsaWRlID0gJCggJy5oaXN0b3J5X195ZWFycy1saXN0JyApLmZpbmQoICcuc3dpcGVyLXNsaWRlJyApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2xpZGUgPSArKCBwcm9tb1RhYnNTbGlkZS5maWx0ZXIoICcuc3dpcGVyLXNsaWRlLWFjdGl2ZScgKS5pbmRleCgpICksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJBY3RpdmVTbGlkZSA9ICsoIHByb21vVGFic1NsaWRlLmZpbHRlciggJy5zd2lwZXItc2xpZGUtYWN0aXZlJyApLmluZGV4KCkgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoICcuaGlzdG9yeV9fY29udGVudCcgKVswXS5zd2lwZXIuc2xpZGVUbyggY3VyU2xpZGUsIDIwMCwgZmFsc2UgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29uRXZlbnQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgX2luaXRTbGlkZXJzICgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIEhlcm9TbGlkZXIgPSBmdW5jdGlvbiggb2JqICkge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfc2xpZGVyID0gX29iai5maW5kKCAnLnN3aXBlci1jb250YWluZXInICksXHJcbiAgICAgICAgICAgIF9wYWdpbmF0aW9uID0gX29iai5maW5kKCAnLnN3aXBlci1wYWdpbmF0aW9uJyApLFxyXG4gICAgICAgICAgICBfc3dpcGVyID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2luaXRTbGlkZXIgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyID0gbmV3IFN3aXBlciAoIF9zbGlkZXIsIHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogMzAwMCxcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdDogJ2ZhZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogX3BhZ2luYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbkNsaWNrYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29uRXZlbnQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgX2luaXRTbGlkZXIgKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgVGFiID0gZnVuY3Rpb24oIG9iaiApIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX2NvbnRyb2xzV3JhcCA9IF9vYmouZmluZCgnLnRhYl9fY29udHJvbHMnKSxcclxuICAgICAgICAgICAgX2NvbnRyb2xzID0gX2NvbnRyb2xzV3JhcC5maW5kKCcudGFiX19jb250cm9scy1pdGVtJyksXHJcbiAgICAgICAgICAgIF9hY3RpdmVDb250cm9sID0gX2NvbnRyb2xzV3JhcC5maW5kKCcuYWN0aXZlJyksXHJcbiAgICAgICAgICAgIF9jb250ZW50c1dyYXAgPSBfb2JqLmZpbmQoJy50YWJfX2NvbnRlbnQnKSxcclxuICAgICAgICAgICAgX2NvbnRlbnRzID0gX2NvbnRlbnRzV3JhcC5maW5kKCcudGFiX19jb250ZW50LWl0ZW0nKTtcclxuICAgICAgICBcclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfb25FdmVudCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9jb250cm9scy5vbih7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFjdXJJdGVtLmhhc0NsYXNzKCdhY3RpdmUnKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250cm9scy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93QWN0aXZlQ29udGVudChjdXJJdGVtLmluZGV4KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLm9uKHtcclxuICAgICAgICAgICAgICAgICAgICAnbG9hZCc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGl2ZUNvbnRyb2wucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYWN0aXZlQ29udHJvbC50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3Nob3dBY3RpdmVDb250ZW50ID0gZnVuY3Rpb24oYWN0aXZlSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIF9jb250ZW50cy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBfY29udGVudHMuZXEoYWN0aXZlSW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIF9jb250ZW50c1dyYXAuY3NzKHsgJ2hlaWdodCc6IF9jb250ZW50cy5lcShhY3RpdmVJbmRleCkub3V0ZXJIZWlnaHQoKSArICdweCcgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudCgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIFJhdGUgPSBmdW5jdGlvbiggb2JqICkge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfcmF0ZU51bWJlciA9IF9vYmoucHJldiggJ3NwYW4nICksXHJcbiAgICAgICAgICAgIF9yYXRlRnJhbWUgPSBfb2JqLmZpbmQoICcuRlNSX2NvbnRhaW5lcl92b3RlJyApLFxyXG4gICAgICAgICAgICBfcmF0ZUl0ZW1TcGFuID0gX3JhdGVGcmFtZS5maW5kKCAnc3BhbicgKSxcclxuICAgICAgICAgICAgX3JhdGVJdGVtTGFiZWwgPSBfcmF0ZUZyYW1lLmZpbmQoICdsYWJlbCcgKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX29uRXZlbnQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfcmF0ZUl0ZW1TcGFuLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIF9yYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3JhdGVJdGVtTGFiZWwub24oICdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgX3JhdGUoKTtcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9yYXRlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBuZXdSYXRlRnJhbWUgPSBfcmF0ZUZyYW1lLmZpbmQoICcuRlNSX2NvbnRhaW5lcicgKSxcclxuICAgICAgICAgICAgICAgICAgICByYXRlQ2FsY3VsYXRlID0gbmV3UmF0ZUZyYW1lLmF0dHIoICdkYXRhLXJhdGUnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCByYXRlQ2FsY3VsYXRlID09PSB1bmRlZmluZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3JhdGVOdW1iZXIuaHRtbCggcGFyc2VGbG9hdChyYXRlQ2FsY3VsYXRlKS50b0ZpeGVkKDEpICsnLzUnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2xvYWRSYXRlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciByYXRlQ29udGFpbmVyID0gX29iai5maW5kKCcuRlNSX2NvbnRhaW5lcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJhdGVDb250YWluZXJWb3RlID0gX29iai5maW5kKCcuRlNSX2NvbnRhaW5lcl92b3RlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcmF0ZUNhbGN1bGF0ZSA9IHJhdGVDb250YWluZXIuYXR0ciggJ2RhdGEtcmF0ZScgKSxcclxuICAgICAgICAgICAgICAgICAgICByYXRlQ2FsY3VsYXRlVm90ZSA9IHJhdGVDb250YWluZXJWb3RlLmF0dHIoICdkYXRhLXJhdGUnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coIHJhdGVDYWxjdWxhdGUgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiggcmF0ZUNhbGN1bGF0ZSA9PT0gdW5kZWZpbmVkICYmIHJhdGVDYWxjdWxhdGVWb3RlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2xvYWRSYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggcmF0ZUNhbGN1bGF0ZSAhPSB1bmRlZmluZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3JhdGVOdW1iZXIuaHRtbCggcGFyc2VGbG9hdChyYXRlQ2FsY3VsYXRlKS50b0ZpeGVkKDEpICsnLzUnICk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIHJhdGVDYWxjdWxhdGVWb3RlICE9IHVuZGVmaW5lZCApIHtcclxuICAgICAgICAgICAgICAgICAgICBfcmF0ZU51bWJlci5odG1sKCBwYXJzZUZsb2F0KHJhdGVDYWxjdWxhdGVWb3RlKS50b0ZpeGVkKDEpICsnLzUnICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgX2xvYWRSYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudCgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIFNvY2lhbCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICBfc29jaWFsQnV0dG9uID0gX29iai5maW5kKCcuc29jaWFsX19pdGVtJyk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9vbkV2ZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIF9zb2NpYWxCdXR0b24ub24oe1xyXG4gICAgICAgICAgICAgICAgJ2NsaWNrJzogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmV0X3NvY2lhbF9zaWRlYmFyX25ldHdvcmtzIC5ldF9zb2NpYWxfaWNvbnNfY29udGFpbmVyJykuZmluZCgnYVtkYXRhLXNvY2lhbF9uYW1lPScrY3VySXRlbS5hdHRyKCdkYXRhLXNvY2lhbCcpKyddJykudHJpZ2dlciggXCJjbGlja1wiICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgX29uRXZlbnQoKTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuICAgIH1cclxuXHJcbn0gKSgpOyJdfQ==
